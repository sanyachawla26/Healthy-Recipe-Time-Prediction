<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Quick Fix or Healthy Mix? | How does the cooking time of healthy recipes, defined by the lowest fat-to-calorie ratio, compare to that of unhealthy recipes?</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Quick Fix or Healthy Mix?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How does the cooking time of healthy recipes, defined by the lowest fat-to-calorie ratio, compare to that of unhealthy recipes?" />
<meta property="og:description" content="How does the cooking time of healthy recipes, defined by the lowest fat-to-calorie ratio, compare to that of unhealthy recipes?" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="Quick Fix or Healthy Mix?" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Quick Fix or Healthy Mix?" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"How does the cooking time of healthy recipes, defined by the lowest fat-to-calorie ratio, compare to that of unhealthy recipes?","headline":"Quick Fix or Healthy Mix?","name":"Quick Fix or Healthy Mix?","url":"http://localhost:4000/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=50bf23818b17004511975123d4381c5c83066bb7">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">Quick Fix or Healthy Mix?</h1>
      <h2 class="project-tagline">How does the cooking time of healthy recipes, defined by the lowest fat-to-calorie ratio, compare to that of unhealthy recipes?</h2>
      
        <a href="https://github.com/sanyachawla26/Healthy-Recipe-Time-Prediction" class="btn">View on GitHub</a>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="quick-fix-or-healthy-mix">Quick Fix or Healthy Mix?</h1>
<p>By: Carolina Mondragon and Sanya Chawla</p>
<h2 id="introduction">Introduction</h2>
<p>Everyone gets busy at times, and for some, it’s all the time. Unconsciously, that drives our food choices and it leads us to opt for quicker and less healthy meals. In this analysis, we explore how cooking times differ between healthy and unhealthy recipes using the <strong>“Recipes and Ratings”</strong> dataset.</p>

<p>While there are many ways to define “healthy,” for this project we define it based on the calorie-to-saturated-fat ratio. We focus on saturated fat instead of total fat because saturated fats in foods like vegetable oils are linked to higher health risks and are typically associated with being “unhealthy.” On the other hand, unsaturated fats like those in avocados are considered “healthier.”</p>

<p>In other words, the ratio represents the number of calories per gram of saturated fat in a serving. Meaning, a high ratio generally indicates that the food is lower in saturated fat relative to its total calorie content which is “healthier,” while a low ratio suggests the food is higher in saturated fat relative to its total calories which is “unhealthier.”</p>

<p>For example, our first observation is a recipe for <code class="language-plaintext highlighter-rouge">name = brownies in the world best ever</code> with <code class="language-plaintext highlighter-rouge">calories = 138.4</code> and <code class="language-plaintext highlighter-rouge">saturated fat = 3.8</code>. The calorie-to-saturated-fat ratio would be 36. This means that for every gram of saturated fat in the food, there are approximately 36 calories. This high ratio suggests that the brownies per serving has less saturated fat relative to its calories and thereby “healthier.” It is likely that most of the calories come from other macronutrients such as carbohydrates, rather than from saturated fat.</p>

<p>With that being said, the question guiding this exploration is <strong>“how do the cooking times of healthy recipes compare to those of unhealthy recipes?”</strong> This analysis is important because it helps people find a balance between eating healthy and saving time despite the rush of everyday living. By understanding how cooking time affects the healthiness of a recipe, people can choose meals that fit their schedules without sacrificing nutrition. This way, we can all make better food choices that are not only quick but also promote a healthier lifestyle for an increased quality of life.</p>

<p>Our dataset contains <strong>212,894 rows</strong> after merging, where each observation represents a unique recipe. The relevant columns for this question include:</p>

<p><code class="language-plaintext highlighter-rouge">name</code>: the name of the recipe.</p>

<p><code class="language-plaintext highlighter-rouge">minutes</code>: the time it takes to prepare the recipe.</p>

<p><code class="language-plaintext highlighter-rouge">n_steps</code>: the number of steps in the recipe.</p>

<p><code class="language-plaintext highlighter-rouge">calories</code>: the calories per serving.</p>

<p>*<code class="language-plaintext highlighter-rouge">saturated_fat</code>: the grams of saturated fat per serving.</p>

<p><code class="language-plaintext highlighter-rouge">calories_to_sfat</code>: the calories to grams of saturated fat ratio.</p>

<p><code class="language-plaintext highlighter-rouge">rating</code>: the recipe’s rating out of 5.</p>

<p><em>*The percentage daily value (PDV) for saturated fat is based on a standard 2,000-calorie diet. Typically, the recommended daily value for saturated fat is 20 grams.</em></p>

<h2 id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<h3 id="data-cleaning">Data Cleaning</h3>

<p>In order to conduct our data cleaning, we started off by imputing any missing values in our “interactions” dataset and “recipes” dataset with NaN values. Next, we converted the <code class="language-plaintext highlighter-rouge">date</code> column in the “interactions” dataframe to datetime values, following the same method for the <code class="language-plaintext highlighter-rouge">submitted</code> column in the “recipes” dataframe. Our next step was to split the nutrition column into the various elements it holds, including <code class="language-plaintext highlighter-rouge">calories</code>, <code class="language-plaintext highlighter-rouge">total_fat</code>, <code class="language-plaintext highlighter-rouge">sugar</code>, <code class="language-plaintext highlighter-rouge">sodium</code>, <code class="language-plaintext highlighter-rouge">protein</code>, <code class="language-plaintext highlighter-rouge">saturated_fat</code>, and <code class="language-plaintext highlighter-rouge">carbohydrates</code>. We also decided to drop the original <code class="language-plaintext highlighter-rouge">nutrition</code> column after because it would have been redundant to keep.</p>

<p>Next, we calculated the saturated fat values in units of grams from the original percentage daily value provided in the dataframe. We use this transformed column later while adding new columns to benefit and target towards our own analysis and prediction problem we are attempting to answer. We then merged the two dataframes and within the rating column, we imputed any values of 0 with NaN values. Within the original dataframe, a rating of 0  means that the recipe has not been rated at all. This is misleading since it could be interpretted as someone rating the recipe with 0 to express that the recipe was bad. Therefore, it cannot be used in the data analysis we have since keeping any 0 values in the <code class="language-plaintext highlighter-rouge">ratings</code> columns can largely affect any calculations involving the columns, such as average ratings because we would see a drop in the average. Afterwards, we created a threshold of 1000 <code class="language-plaintext highlighter-rouge">minutes</code> and 5000 <code class="language-plaintext highlighter-rouge">calories</code> to avoid and drop any rare rows with outlier values of minutes and calories that would be unreasonable and skew our data heavily.</p>

<p>Adding new columns, we created an average ratings column as mentioned briefly above of the average ratings of all the recipes using the non-NaN values. We also added a new column in which we calculated the ratio of the calorie values to the saturated fat values for each row, and we used this ratio in order to identify what recipes can be considered more unhealthy or more healthy. Within this column, we dropped any rows in which the ratio was NaN. For more comprehensive analysis, we chose to use the median of the calories-to-saturated fat ratio as a threshold to determine what would be considered a high ratio and low ratio. Using these values, we created a new column where each recipe was given a “high” value or “low” value relatively depending on whether it was above or below the median ratio threshold that we mentioned before. We then dropped the columns we considered to be irrelevant, leaving columns such as <code class="language-plaintext highlighter-rouge">n_steps</code>, <code class="language-plaintext highlighter-rouge">calories</code>, <code class="language-plaintext highlighter-rouge">saturated_fat</code>, etc.</p>

<p>Finally, we would like to clarify that there are <strong>two versions</strong> of our dataframes. The first version <code class="language-plaintext highlighter-rouge">full_df</code> is the fully cleaned dataframe, using the methods mentioned earlier. The second version <code class="language-plaintext highlighter-rouge">final_df</code> is a copy of <code class="language-plaintext highlighter-rouge">full_df</code>, but with all recipes containing an “inf” calories-to-saturated-fat ratio removed. For the purposes of data cleaning and exploration, we have decided to keep the recipes with an “inf” calories-to-saturated-fat ratio in <code class="language-plaintext highlighter-rouge">full_df</code> because their presence is intuitive in the sense that dividing a recipe with many calories by 0 grams of saturated fat will result in an infinite value. From an interpretive standpoint, this very high ratio can indicate a very healthy recipe. However for visualization and modeling purposes, we will not use <code class="language-plaintext highlighter-rouge">full_df</code> with these “inf” values, since creating models or visualizations based on infinite values would not be appropriate. Therefore, we will proceed with <code class="language-plaintext highlighter-rouge">final_df</code> for the analysis moving forward.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">name</th>
      <th style="text-align: right">minutes</th>
      <th style="text-align: right">n_steps</th>
      <th style="text-align: right">calories</th>
      <th style="text-align: right">saturated_fat</th>
      <th style="text-align: right">calories_to_sfat</th>
      <th style="text-align: right">rating</th>
      <th style="text-align: left">ratio_category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">1 brownies in the world    best ever</td>
      <td style="text-align: right">40</td>
      <td style="text-align: right">10</td>
      <td style="text-align: right">138.4</td>
      <td style="text-align: right">3.8</td>
      <td style="text-align: right">36.4211</td>
      <td style="text-align: right">4</td>
      <td style="text-align: left">Low Ratio</td>
    </tr>
    <tr>
      <td style="text-align: left">1 in canada chocolate chip cookies</td>
      <td style="text-align: right">45</td>
      <td style="text-align: right">12</td>
      <td style="text-align: right">595.1</td>
      <td style="text-align: right">10.2</td>
      <td style="text-align: right">58.3431</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Low Ratio</td>
    </tr>
    <tr>
      <td style="text-align: left">412 broccoli casserole</td>
      <td style="text-align: right">40</td>
      <td style="text-align: right">6</td>
      <td style="text-align: right">194.8</td>
      <td style="text-align: right">7.2</td>
      <td style="text-align: right">27.0556</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Low Ratio</td>
    </tr>
    <tr>
      <td style="text-align: left">412 broccoli casserole</td>
      <td style="text-align: right">40</td>
      <td style="text-align: right">6</td>
      <td style="text-align: right">194.8</td>
      <td style="text-align: right">7.2</td>
      <td style="text-align: right">27.0556</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Low Ratio</td>
    </tr>
    <tr>
      <td style="text-align: left">412 broccoli casserole</td>
      <td style="text-align: right">40</td>
      <td style="text-align: right">6</td>
      <td style="text-align: right">194.8</td>
      <td style="text-align: right">7.2</td>
      <td style="text-align: right">27.0556</td>
      <td style="text-align: right">5</td>
      <td style="text-align: left">Low Ratio</td>
    </tr>
  </tbody>
</table>

<h3 id="univariate-analysis">Univariate Analysis</h3>

<iframe src="plotly/uni.html" width="800" height="600" frameborder="0"></iframe>

<p>In our pie chart, we see an almost even split between the amount of recipes that were categorized as “Low Ratio” and “High Ratio.” There’s a slightly larger quantity of “Low Ratio” recipes which we are defining as being unhealthy recipes. The difference is around 10% which isn’t much but worth noting.</p>

<h3 id="bivariate-analysis">Bivariate Analysis</h3>

<iframe src="plotly/biv.html" width="800" height="600" frameborder="0"></iframe>

<p>In our scatter plot, we showcased a relationship between the calories-to-saturated-fat ratio and the minutes. We see a trend in which the majority of lower ratios took less time, but some lower ratios also took more time. As the ratios increased, we see all of these specific recipes had relatively low minute values.</p>

<h3 id="interesting-aggregates">Interesting Aggregates</h3>

<p>For the pivot table, we wanted to explore how the amount of time a recipe takes would affect its ratings and the count of high/low rating values it was given. Thus, we created a pivot table holding the index as <code class="language-plaintext highlighter-rouge">minutes</code>, the columns as <code class="language-plaintext highlighter-rouge">rating</code>, the values as <code class="language-plaintext highlighter-rouge">name</code>, and the aggfunc as <code class="language-plaintext highlighter-rouge">count</code>. This would allow us to visually produce a table that aggregates more information between columns. An example taken from this table would be if the index value of 2 minutes is analyzed, we would see that there were 2103 5-star ratings for all recipes combined that had a minutes value of 2 minutes. We can also see that by running the line pivot_count_ratings_time.loc[2, 5.0] = 2103. The following shows a snippet of the table:</p>

<table>
  <thead>
    <tr>
      <th>rating</th>
      <th>1.0</th>
      <th>2.0</th>
      <th>3.0</th>
      <th>4.0</th>
      <th>5.0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>minutes</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>1</td>
      <td>7</td>
      <td>1</td>
      <td>13</td>
      <td>85</td>
      <td>594</td>
    </tr>
    <tr>
      <td>2</td>
      <td>15</td>
      <td>7</td>
      <td>52</td>
      <td>442</td>
      <td>2103</td>
    </tr>
    <tr>
      <td>3</td>
      <td>10</td>
      <td>8</td>
      <td>41</td>
      <td>232</td>
      <td>1125</td>
    </tr>
    <tr>
      <td>4</td>
      <td>21</td>
      <td>4</td>
      <td>29</td>
      <td>178</td>
      <td>615</td>
    </tr>
    <tr>
      <td>5</td>
      <td>111</td>
      <td>87</td>
      <td>262</td>
      <td>1635</td>
      <td>8551</td>
    </tr>
  </tbody>
</table>

<h3 id="imputation">Imputation</h3>

<p>We decided to <strong>not impute</strong> any missing values. The <code class="language-plaintext highlighter-rouge">rating</code> column has missing values that were originally marked with 0 but we modified to NaN instead, as explained previously. We are deciding to not use any imputation techniques, such as mean imputation, to change the NaNs into a value. The <code class="language-plaintext highlighter-rouge">rating</code> column is irrelevant to our analysis and modeling. Therefore, it would be irrelevant to perform any imputation.</p>

<h2 id="framing-a-prediction-problem">Framing a Prediction Problem</h2>

<p>As previously mentioned, we are investigating <em>how the cooking times of healthy recipes compare to those of unhealthy recipes.</em> Our problem is adequate for a <strong>regression model</strong> because the continuous numerical variable we are predicting, cooking time in minutes, can produce exact numerical outcomes. Ultimately, we are using the calories-to-saturated-fat ratio as the predictor variable to predict how long it takes to prepare or cook a recipe.</p>

<p>The exploration for this problem comes from wanting to examine whether there is any correlation between the healthiness of a recipe and the time it takes to cook. Specifically, we want to determine if healthier recipes (with a higher ratio) take more or less time to prepare compared to unhealthier ones (with a lower ratio). This could provide valuable insights into whether healthier recipes usually require longer time for preparation and time-consuming steps or if there is no significant difference in cooking time between the two categories.</p>

<p>We chose <strong>Mean Squared Error (MSE)</strong> because it effectively accounts for the large variation in the calories-to-saturated-fat ratio, which might lead to significant differences in cooking times. MSE heavily penalizes large errors so the corresponding model will minimize significant deviations in the predictions. This is important for our continuous data because it ensures that extreme values in the ratio don’t disproportionately affect model performance, which is something that metrics like R-squared can overlook.</p>

<h2 id="baseline-model">Baseline Model</h2>
<h2 id="final-model">Final Model</h2>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/sanyachawla26/Healthy-Recipe-Time-Prediction">Healthy-Recipe-Time-Prediction</a> is maintained by <a href="https://github.com/sanyachawla26">sanyachawla26</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>
